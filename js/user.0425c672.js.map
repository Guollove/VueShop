{"version":3,"file":"js/user.0425c672.js","mappings":"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","sources":["webpack://vue_shop/./src/components/Breadcrumb.vue","webpack://vue_shop/src/components/Breadcrumb.vue","webpack://vue_shop/./src/components/Breadcrumb.vue?5e96","webpack://vue_shop/./src/components/Breadcrumb.vue?59ce","webpack://vue_shop/./src/views/Users.vue","webpack://vue_shop/src/views/Users.vue","webpack://vue_shop/./src/views/Users.vue?e239","webpack://vue_shop/./src/views/Users.vue?ecfc"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_vm._l((_vm.bread),function(item,index){return _c('el-breadcrumb-item',{key:index},[_vm._v(_vm._s(item))])})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n    <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n    <el-breadcrumb-item v-for=\"(item, index) in bread\" :key=\"index\">{{\n      item\n    }}</el-breadcrumb-item>\n  </el-breadcrumb>\n</template>\n\n<script>\nexport default {\n  props: ['bread'],\n}\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Breadcrumb.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Breadcrumb.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Breadcrumb.vue?vue&type=template&id=34a315ec&\"\nimport script from \"./Breadcrumb.vue?vue&type=script&lang=js&\"\nexport * from \"./Breadcrumb.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Breadcrumb',{attrs:{\"bread\":_vm.userBread}}),_c('el-card',{staticClass:\"box-card\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"clear\":_vm.getUserList},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getUserList},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addDialogVisible = true}}},[_vm._v(\"添加用户\")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.userlist,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"width\":\"60px\",\"label\":\"ID\",\"prop\":\"id\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"姓名\",\"prop\":\"username\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"邮箱\",\"prop\":\"email\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"电话\",\"prop\":\"mobile\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"角色\",\"prop\":\"role_name\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{on:{\"change\":function($event){return _vm.userStateChanged(scope.row)}},model:{value:(scope.row.mg_state),callback:function ($$v) {_vm.$set(scope.row, \"mg_state\", $$v)},expression:\"scope.row.mg_state\"}})]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"180px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditdialog(scope.row.id)}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeUserById(scope.row.id)}}}),_c('el-tooltip',{attrs:{\"enterable\":false,\"effect\":\"dark\",\"content\":\"分配角色\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-setting\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.setRole(scope.row)}}})],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[5, 10, 100, 1000],\"page-size\":5,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_c('el-dialog',{attrs:{\"title\":\"添加用户\",\"visible\":_vm.addDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addDialogClosed}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.addForm.username),callback:function ($$v) {_vm.$set(_vm.addForm, \"username\", $$v)},expression:\"addForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{model:{value:(_vm.addForm.password),callback:function ($$v) {_vm.$set(_vm.addForm, \"password\", $$v)},expression:\"addForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.addForm.email),callback:function ($$v) {_vm.$set(_vm.addForm, \"email\", $$v)},expression:\"addForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电话\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.addForm.mobile),callback:function ($$v) {_vm.$set(_vm.addForm, \"mobile\", $$v)},expression:\"addForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"确 定\")])],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改用户\",\"visible\":_vm.editDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event},\"close\":_vm.editDialogClosed}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.editFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editForm.username),callback:function ($$v) {_vm.$set(_vm.editForm, \"username\", $$v)},expression:\"editForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.editForm.email),callback:function ($$v) {_vm.$set(_vm.editForm, \"email\", $$v)},expression:\"editForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.editForm.mobile),callback:function ($$v) {_vm.$set(_vm.editForm, \"mobile\", $$v)},expression:\"editForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editUserInfo}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"分配角色\",\"visible\":_vm.setRoleDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.setRoleDialogVisible=$event},\"close\":_vm.setRoleDialogClosed}},[_c('div',[_c('p',[_vm._v(\"当前的用户：\"+_vm._s(_vm.userInfo.username))]),_c('p',[_vm._v(\"当前的角色：\"+_vm._s(_vm.userInfo.role_name))]),_c('p',[_vm._v(\" 分配新角色： \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.selectedRoleId),callback:function ($$v) {_vm.selectedRoleId=$$v},expression:\"selectedRoleId\"}},_vm._l((_vm.rolesList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.roleName,\"value\":item.id}})}),1)],1)]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.setRoleDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveRoleInfo}},[_vm._v(\"确 定\")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- 面包屑导航区域 -->\n    <Breadcrumb :bread=\"userBread\" />\n    <!-- 卡片视图区域 -->\n    <el-card class=\"box-card\">\n      <!-- 搜索与添加区域 -->\n      <el-row :gutter=\"20\">\n        <el-col :span=\"8\">\n          <el-input\n            placeholder=\"请输入内容\"\n            v-model=\"queryInfo.query\"\n            clearable\n            @clear=\"getUserList\"\n          >\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getUserList\">\n            </el-button>\n          </el-input>\n        </el-col>\n        <el-col :span=\"4\">\n          <el-button type=\"primary\" @click=\"addDialogVisible = true\"\n            >添加用户</el-button\n          >\n        </el-col>\n      </el-row>\n      <!-- 用户列表区域 -->\n      <el-table :data=\"userlist\" border stripe>\n        <el-table-column\n          align=\"center\"\n          width=\"60px\"\n          label=\"ID\"\n          prop=\"id\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          label=\"姓名\"\n          prop=\"username\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          label=\"邮箱\"\n          prop=\"email\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          label=\"电话\"\n          prop=\"mobile\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          label=\"角色\"\n          prop=\"role_name\"\n        ></el-table-column>\n        <el-table-column align=\"center\" label=\"状态\">\n          <template slot-scope=\"scope\">\n            <el-switch\n              v-model=\"scope.row.mg_state\"\n              @change=\"userStateChanged(scope.row)\"\n            ></el-switch>\n          </template>\n        </el-table-column>\n        <el-table-column align=\"center\" label=\"操作\" width=\"180px\">\n          <template slot-scope=\"scope\">\n            <!-- 修改按钮 -->\n            <el-button\n              type=\"primary\"\n              icon=\"el-icon-edit\"\n              size=\"mini\"\n              @click=\"showEditdialog(scope.row.id)\"\n            >\n            </el-button>\n            <!-- 删除按钮 -->\n            <el-button\n              type=\"danger\"\n              icon=\"el-icon-delete\"\n              size=\"mini\"\n              @click=\"removeUserById(scope.row.id)\"\n            >\n            </el-button>\n            <!-- 分配角色按钮 -->\n            <el-tooltip\n              :enterable=\"false\"\n              effect=\"dark\"\n              content=\"分配角色\"\n              placement=\"top\"\n            >\n              <el-button\n                type=\"warning\"\n                icon=\"el-icon-setting\"\n                size=\"mini\"\n                @click=\"setRole(scope.row)\"\n              >\n              </el-button>\n            </el-tooltip>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!-- 分页区域 -->\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"queryInfo.pagenum\"\n        :page-sizes=\"[5, 10, 100, 1000]\"\n        :page-size=\"5\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n      >\n      </el-pagination>\n      <!-- 添加用户对话框 -->\n      <el-dialog\n        title=\"添加用户\"\n        :visible.sync=\"addDialogVisible\"\n        width=\"50%\"\n        @close=\"addDialogClosed\"\n      >\n        <!-- 内容主体 -->\n        <el-form\n          :model=\"addForm\"\n          :rules=\"addFormRules\"\n          ref=\"addFormRef\"\n          label-width=\"70px\"\n        >\n          <el-form-item label=\"用户名\" prop=\"username\">\n            <el-input v-model=\"addForm.username\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"密码\" prop=\"password\">\n            <el-input v-model=\"addForm.password\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"邮箱\" prop=\"email\">\n            <el-input v-model=\"addForm.email\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"电话\" prop=\"mobile\">\n            <el-input v-model=\"addForm.mobile\"></el-input>\n          </el-form-item>\n        </el-form>\n        <!-- 底部区域 -->\n        <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"addDialogVisible = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\n        </span>\n      </el-dialog>\n    </el-card>\n    <!-- 修改用户对话框 -->\n    <el-dialog\n      title=\"修改用户\"\n      :visible.sync=\"editDialogVisible\"\n      width=\"50%\"\n      @close=\"editDialogClosed\"\n    >\n      <el-form\n        :model=\"editForm\"\n        :rules=\"editFormRules\"\n        ref=\"editFormRef\"\n        label-width=\"70px\"\n      >\n        <el-form-item label=\"用户名\">\n          <el-input v-model=\"editForm.username\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"editForm.email\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"手机\" prop=\"mobile\">\n          <el-input v-model=\"editForm.mobile\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"editUserInfo\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <!-- 角色分配对话框 -->\n    <el-dialog\n      title=\"分配角色\"\n      :visible.sync=\"setRoleDialogVisible\"\n      width=\"50%\"\n      @close=\"setRoleDialogClosed\"\n    >\n      <div>\n        <p>当前的用户：{{ userInfo.username }}</p>\n        <p>当前的角色：{{ userInfo.role_name }}</p>\n        <p>\n          分配新角色：\n          <el-select v-model=\"selectedRoleId\" placeholder=\"请选择\">\n            <el-option\n              v-for=\"item in rolesList\"\n              :key=\"item.id\"\n              :label=\"item.roleName\"\n              :value=\"item.id\"\n            ></el-option>\n          </el-select>\n        </p>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"setRoleDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"saveRoleInfo\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport Breadcrumb from '../components/Breadcrumb.vue'\nexport default {\n  components: { Breadcrumb },\n  data() {\n    return {\n      userBread: ['用户管理', '用户列表'],\n      // 获取用户列表的参数对象\n      queryInfo: {\n        query: '',\n        // 当前页数\n        pagenum: 1,\n        // 当前每页显示多少条数据\n        pagesize: 5,\n        id: 0,\n      },\n      userlist: [],\n      total: 0,\n      // 控制添加用户对话框的显示与隐藏\n      addDialogVisible: false,\n      // 添加用户的表单数据\n      addForm: {\n        username: '',\n        password: '',\n        email: '',\n        mobile: '',\n      },\n      // 添加表单的验证规则对象\n      addFormRules: {\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur' },\n          {\n            min: 3,\n            max: 10,\n            message: '用户名的长度在3～10个字符之间',\n            trigger: 'blur',\n          },\n        ],\n        password: [\n          { required: true, message: '请输入用户名密码', trigger: 'blur' },\n          {\n            min: 6,\n            max: 18,\n            message: '用户名密码的长度在6～18个字符之间',\n            trigger: 'blur',\n          },\n        ],\n        email: [\n          { required: true, message: '请输入邮箱地址', trigger: 'blur' },\n          {\n            type: 'email',\n            message: '请输入正确的邮箱地址',\n            trigger: 'blur',\n          },\n        ],\n        mobile: [\n          { required: true, message: '请输入电话', trigger: 'blur' },\n          {\n            required: true,\n            pattern: /^1[3456789]\\d{9}$/,\n            message: '手机号格式不正确',\n            trigger: 'blur',\n          },\n        ],\n      },\n      // 修改用户的对话框的显示与隐藏\n      editDialogVisible: false,\n      // 查询到的用户信息对象\n      editForm: {},\n      // 修改表单的验证规则对象\n      editFormRules: {\n        email: [\n          { required: true, message: '请输入邮箱地址', trigger: 'blur' },\n          {\n            type: 'email',\n            message: '请输入正确的邮箱地址',\n            trigger: 'blur',\n          },\n        ],\n        mobile: [\n          { required: true, message: '请输入电话', trigger: 'blur' },\n          {\n            required: true,\n            pattern: /^1[3456789]\\d{9}$/,\n            message: '手机号格式不正确',\n            trigger: 'blur',\n          },\n        ],\n      },\n      // 控制分配角色对话框的显示与隐藏\n      setRoleDialogVisible: false,\n      // 需要分配角色的用户信息\n      userInfo: {},\n      //  所有角色列表\n      rolesList: [],\n      // 选中的角色Id值\n      selectedRoleId: '',\n    }\n  },\n  created() {\n    this.getUserList()\n  },\n  methods: {\n    async getUserList() {\n      const { data: res } = await this.$http.get('users', {\n        params: this.queryInfo,\n      })\n      if (res.meta.status !== 200) {\n        return this.$message.error(res.meta.msg)\n      }\n      this.userlist = res.data.users\n      this.total = res.data.total\n    },\n    // 监听 pagesize 改变的事件\n    handleSizeChange(newSize) {\n      this.queryInfo.pagesize = newSize\n      this.getUserList()\n    },\n    // 监听 页码值 改变的事件\n    handleCurrentChange(newPage) {\n      this.queryInfo.pagenum = newPage\n      this.getUserList()\n    },\n    // 监听 switch 开关状态的改变\n    async userStateChanged(e) {\n      const { data: res } = await this.$http.put(\n        `users/${e.id}/state/${e.mg_state}`\n      )\n      if (res.meta.status !== 200) {\n        e.mg_state = !e.mg_state\n        return this.$message.error(res.meta.msg)\n      }\n      this.$message.success(res.meta.msg)\n    },\n    // 监听添加用户对话框的关闭事件\n    addDialogClosed() {\n      this.$refs.addFormRef.resetFields()\n    },\n    // 点击按钮，添加新用户\n    addUser() {\n      this.$refs.addFormRef.validate(async (valid) => {\n        if (!valid) return\n        // 可以发起添加用户的网络请求\n        const { data: res } = await this.$http.post('users', this.addForm)\n        if (res.meta.status !== 201) {\n          this.$message.error('添加用户失败')\n        }\n        this.$message.success('添加用户成功')\n        // 隐藏添加用户的对话框\n        this.addDialogVisible = false\n        // 重新获取用户列表\n        this.getUserList()\n      })\n    },\n    // 展示编辑用户的对话框\n    async showEditdialog(id) {\n      const { data: res } = await this.$http.get('users/' + id)\n      if (res.meta.status !== 200) {\n        return this.$message.error('查询用户信息失败')\n      }\n      this.editForm = res.data\n      this.editDialogVisible = true\n    },\n    // 监听修改用户对话框的关闭事件\n    editDialogClosed() {\n      this.$refs.editFormRef.resetFields()\n    },\n    // 修改用户信息并提交\n    editUserInfo() {\n      this.$refs.editFormRef.validate(async (valid) => {\n        if (!valid) return\n        // 发起修改用户信息的数据请求\n        const { data: res } = await this.$http.put(\n          'users/' + this.editForm.id,\n          {\n            email: this.editForm.email,\n            mobile: this.editForm.mobile,\n          }\n        )\n        if (res.meta.status !== 200) {\n          return this.$message.error('更新用户信息失败！')\n        }\n        // 关闭对话框\n        this.editDialogVisible = false\n        // 刷新数据列表\n        this.getUserList()\n        // 提示修成功\n        this.$message.success(res.meta.msg)\n      })\n    },\n    async removeUserById(id) {\n      // 弹框询问用户是否删除数据\n      const confirmResult = await this.$confirm(\n        '此操作将永久删除该用户，是否继续',\n        '提示',\n        {\n          confirmButtonText: '确定',\n          cancelIdleCallback: '取消',\n          type: 'warning',\n        }\n      ).catch((err) => err)\n      // 如果用户确认删除，则返回值为字符串 confirm\n      // 如果用户取消了删除，则返回值为字符串 cancel\n      if (confirmResult !== 'confirm') {\n        return this.$message.info('已取消删除')\n      }\n      const { data: res } = await this.$http.delete('users/' + id)\n      if (res.meta.status !== 200) {\n        return this.$message.error('删除用户失败！')\n      }\n      this.$message.success(res.meta.msg)\n      this.getUserList()\n    },\n    // 展示分配角色的对话框\n    async setRole(userInfo) {\n      this.userInfo = userInfo\n\n      // 展开对话框前。获取所有角色的列表\n      const { data: res } = await this.$http.get('roles')\n      this.rolesList = res.data\n\n      this.setRoleDialogVisible = true\n    },\n    // 点击按钮分配角色\n    async saveRoleInfo() {\n      if (!this.selectedRoleId) {\n        return this.$message.error('请选择要分配的角色！')\n      }\n      const { data: res } = await this.$http.put(\n        `users/${this.userInfo.id}/role`,\n        { rid: this.selectedRoleId }\n      )\n      if (res.meta.status !== 200) {\n        return this.$message.error('更新角色失败')\n      }\n      this.$message.success('更新角色成功！')\n      this.getUserList()\n      this.setRoleDialogVisible = false\n    },\n    // 监听分配角色对话框的关闭事件\n    setRoleDialogClosed() {\n      this.selectedRoleId = ''\n      this.userInfo = {}\n    },\n  },\n}\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=42d55030&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","path","_v","_l","bread","item","index","key","_s","staticRenderFns","props","component","userBread","staticClass","on","getUserList","model","value","queryInfo","query","callback","$$v","$set","expression","slot","$event","addDialogVisible","userlist","scopedSlots","_u","fn","scope","userStateChanged","row","mg_state","showEditdialog","id","removeUserById","setRole","pagenum","total","handleSizeChange","handleCurrentChange","addDialogClosed","ref","addForm","addFormRules","username","password","email","mobile","addUser","editDialogVisible","editDialogClosed","editForm","editFormRules","editUserInfo","setRoleDialogVisible","setRoleDialogClosed","userInfo","role_name","selectedRoleId","rolesList","roleName","saveRoleInfo","components","Breadcrumb","data","pagesize","required","message","trigger","min","max","type","pattern","created","methods","params","e","confirmButtonText","cancelIdleCallback","catch","err","rid"],"sourceRoot":""}